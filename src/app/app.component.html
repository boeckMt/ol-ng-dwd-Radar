<!-- https://material.io/icons/ -->
<mat-progress-bar *ngIf="isLoading()" mode="{{progressBarMode}}"></mat-progress-bar>
<header>
  <mat-toolbar>
    <mat-icon (click)="refresh()">refresh</mat-icon>
    <span class="title">
      {{layertitle}}
    </span>
    <span class="fill-space"></span>
    <nav>
      <mat-icon (click)="showLegend()">{{(legend)?'close':'more_vert'}}</mat-icon>
    </nav>
  </mat-toolbar>
</header>
<main>
  <div id="map" class="map"></div>
  <aside *ngIf="legend" [ngClass]="{'is-loading':isLoading()}">
    <mat-card class="example-card">
      <mat-card-header>
        <mat-form-field>
          <mat-select (selectionChange)="produktChange($event)" placeholder="Set Produkt" [formControl]="weatherlayername">
            <mat-option *ngFor="let produkt of weatherlayers" [value]="produkt.value">
              {{ produkt.viewValue }}
            </mat-option>
          </mat-select>
        </mat-form-field>
        <!--
        <div mat-card-avatar class="example-header-image"></div>
        <mat-card-title>{{layerdescription}}</mat-card-title>
        <mat-card-subtitle></mat-card-subtitle> -->
      </mat-card-header>
      <!-- <img mat-card-image [src]="legendurl" alt="Layer Legend"> -->

      <mat-card-content *ngIf="legendurl">
        <p>
          {{layerdescription}}
        </p>
        <p>
          <img [src]="legendurl" alt="Layer Legend">
        </p>
      </mat-card-content>

      <label for="opacity-slider">Opacity:</label>
      <mat-slider id="opacity-slider" [tickInterval]="1" (change)="setLayerOpacity($event)" min="0" max="1" [value]="getLayerOpacity()" step="0.1"></mat-slider>
      <!--
      <mat-card-actions>
        <button mat-button>LIKE</button>
        <button mat-button>SHARE</button>
      </mat-card-actions>
    -->
    </mat-card>
  </aside>
</main>
<footer>
  <mat-toolbar>
    <mat-toolbar-row>
      <app-time-slider [dates]="datesString" (dateChange)="sliderOnChange($event)"></app-time-slider>
    </mat-toolbar-row>
    <mat-toolbar-row>
      <span class="title">
        {{ slidervalue | date: 'dd/M/yyyy - HH:mm:ss'}}
      </span>

      <span class="fill-space"></span>
      <a *ngIf="dwdinfo.link" [href]="dwdinfo.link" [title]="dwdinfo.title" target="_blank">
        <mat-icon>info_outline</mat-icon>
      </a>
    </mat-toolbar-row>
  </mat-toolbar>
</footer>